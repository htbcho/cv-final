<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Display Webcam Stream</title>
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
<script type="module" src="/static/js/index.js"></script>
<link rel="shortcut icon" href="#"/>
 
<style>
#container {
	margin: 0px auto;
	width: 200px;
	height: 200px;
	border: 10px #333 solid;
    position: relative;
}
#canvas {
    margin: 0px auto;
    /* width: 200px;
	height: 200px; */
    width: 100%;
	height: 100%;
    position: relative;
    z-index: 1;
    /* background:transparent; */
}
#videoElement {
	/* width: 200px;
	height: 200px; */
    height: 100%;
    left: 0;
    position: absolute;
    top: 0;
    width: 100%; 
	background-color: #666;
}
#webcam-interaction {
    width: 100%;
    height: 50%;
}
.canvas_mirror {
  /* height: 100%; */
  height: 200px;
  left: 0;
  position: absolute;
  top: 0;
  width: 200px;
  /* width: 100%;  */
}
</style>
</head>
 
<body>
<div id="webcam-interaction">
    <div id="container">
        <video autoplay="true" id="webcamElement"></video>
        <!-- <canvas id="canvas"></canvas> -->
        <canvas id="canvas"></canvas> 
        <img hidden src="" id="mirror" class="canvas_mirror" />
    </div>
</div>

<script> 
    // source: https://www.kirupa.com/html5/accessing_your_webcam_in_html5.htm
    var video = document.querySelector("#webcamElement");

    if (navigator.mediaDevices.getUserMedia) {
    navigator.mediaDevices.getUserMedia({ video: {width: 200, height: 200} })
        .then(function (stream) {
        video.srcObject = stream;
        })
        .catch(function (err0r) {
        console.log("Something went wrong!");
        });
    }
</script>
</body>
</html>